task javascript << {
    def lang = "js"
    
    def map = [
        name: "non",
        version: "1.0",
        main: "main.$lang",
        plugins: ["Graphics"]
    ]
    
    def builder = new groovy.json.JsonBuilder(map)
    file("../../project").mkdir()
    def ncfg = file("../../project/non.cfg")
    ncfg.createNewFile()
    ncfg.write(builder.toString())
    
    copy {
        from "."
        into "../../project"
        include "main.$lang"
        include "**/*.png"
    }
}

task lua << {
    def lang = "lua"
    
    def map = [
        name: "non",
        version: "1.0",
        main: "main.$lang",
        plugins: ["Graphics"]
    ]
    
    def builder = new groovy.json.JsonBuilder(map)
    file("../../project").mkdir()
    def ncfg = file("../../project/non.cfg")
    ncfg.createNewFile()
    ncfg.write(builder.toString())
    
    copy {
        from "."
        into "../../project"
        include "main.$lang"
        include "**/*.png"
    }
}